<!DOCTYPE html>
<html lang="en" xmlns:v-on="http://www.w3.org/1999/xhtml" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>赵海</title>
    <link href="/favicon.ico" rel="SHORTCUT ICON" />
    <link rel="stylesheet" href="/assets/css/vueDemo.css" />
    <script src="/assets/js/libs/jquery-1.8.3.min.js"></script>
    <script src="/assets/js/libs/vue.js"></script>
</head>
<body>
    <div class="body-container">
        <!--#include virtual="/inc/header.shtml"-->
        <!--主体Start-->
        <div class="main-container">
            <h1>条件渲染</h1>
            <ol class="list-contant ol-list">
                <li id="demo1">
                    <b class="important">v-if="age > 25"</b>
                    <span v-if="age > 25">Age: {{ age }}</span>
                    <span v-else-if="age < 15">yes</span>
                    <span v-else>Name: {{ name }}</span>
                    <input type="text" v-model="age" placeholder="输入age的值来切换显示">
                    <p>可以用v-else指令为v-if添加一个“else块”。v-else或v-else-if元素必须立即跟在v-if元素的后面——否则它不能被识别</p>
                </li>
                <li id="demo2">
                    <b>v-show</b>
                    <h2 v-show="name.indexOf('jack') >= 0">Name: {{ name }}</h2>
                    <p>v-show相当于设置display属性，v-show 不支持 template 元素，也不支持 v-else。</p>
                </li>
                <li id="demo3">
                    <b>template</b>
                    <template v-if="loginTypes === 'username'">
                        <label>Name：</label>
                        <input type="text" placeholder="输入名字" key="name">
                    </template>
                    <template v-else>
                        <label>Email：</label>
                        <input type="text" placeholder="输入邮箱" key="email">
                    </template>
                    <a href="javascript:void(0)" @click="loginType()">Toggle login type</a>
                </li>
            </ol>
            <h1>列表渲染</h1>
            <ul id="demo4" class="list-contant li-list">
                <li v-for="(item, index) in items" :key="item.id" @click="sss(item)">
                    {{ item.message }} - {{ index }}
                </li>
            </ul>
            <ul id="demo4-1" class="list-contant li-list">
                <li v-for="(value, key, index) in object">
                    {{ index + 1 }},{{ key }}:{{ value }}
                </li>
            </ul>
            <ul id="demo4-2">
                <li v-for="n in getNumbers" style="display: inline-block;margin-right: 10px">{{ n }}</li>
            </ul>
            <h1>合计总价实例</h1>
            <div id="demo5">
                <p v-for="plist in plists" v-on:click="selected(plist)" v-bind:class="{ choose: plist.ischoose }"><span class="goodsName">{{ plist.name }}</span><span class="goodsPrice">{{ plist.price }}</span></p>
                <div><span>合计：</span><span class="total">{{ priceAll() }}</span></div>
            </div>
            <h1>TodoLists</h1>
            <div id="demo6">
                <input type="text" placeholder="请输入文字..." v-model="newList">
                <button @click="addList()">添加</button>
                <ul>
                    <li class="todolist" v-for="list in getLists">{{ list.text }}</li>
                </ul>
            </div>
        </div>
        <!--主体End-->
    </div>
    <script>
        new Vue({
            el: '#demo1',
            data:{
                age: '',
                name:'jack.Tom'
            }
        });

        new Vue({
            el: '#demo2',
            data:{
                name:'jack.Tom'
            }
        });

        new Vue({
            el: '#demo3',
            data :{
                loginTypes:'username'
            },
            methods: {
                loginType:function () {
                    return this.loginTypes = this.loginTypes === 'username' ? 'email' : 'username';
                }
            }
        });

        var arr1 = new Vue({
            el: '#demo4',
            data: {
                items:[
                    { message:'first', id:'a1' },
                    { message:'second', id:'a2' }
                ]
            },
            methods: {
                sss:function (e) {
                    console.log(e.id);
                    arr1.items.push({ message: 'Baz', id:'a3' })
                }
            }
        });

        var arr2 = new Vue({
            el: '#demo4-1',
            data: {
                object:{
                    firstName: 'John',
                    lastName: 'Doe',
                    age: 30
                }
            }
        });
        Vue.set(arr2.object, 'sex', 'man');     //向已有对象添加一个属性
        arr2.object = Object.assign({}, arr2.object, {      //为已有对象赋予多个新属性
            age: 27,
            favoriteColor: 'Vue Green'
        });

        var arr3 = new Vue({
            el:'#demo4-2',
            data: {
                numbers: [1,2,3,4,5,6]
            },
            computed: {
                getNumbers: function () {
                    return this.numbers.filter(function (number) {
                        return number % 2 === 0;
                    })
                }
            }
        });

        new Vue({
            el: '#demo5',
            data: {
                plists: [
                    { name: 'goods1', price: 100, ischoose : false },
                    { name: 'goods2', price: 200, ischoose : false },
                    { name: 'goods3', price: 300, ischoose : false }
                ]
            },
            methods: {
                selected: function (event) {
                    if (event) {
                        event.ischoose = !event.ischoose;
                    }
                },
                priceAll: function () {
                    var priceAll = 0;
                    this.plists.forEach(function (i) {
                        if (i.ischoose)
                            priceAll += i.price;
                    });
                    return priceAll;
                }
            }
        });
    </script>
    <script>
        new Vue({
            el: '#demo6',
            data: {
                newList: '',
                getLists: []
            },
            watch: {
                newList: function (newText) {
                    return newText;
                }
            },
            methods: {
                addList: function () {
                    console.log(this.newList);
                    this.getLists.push({ text:this.newList });
                }
            }
        });
    </script>
</body>
</html>